# End-to-end RAG class